@{
    ViewData["title"] = "Pizza";
}

@model ICollection<Pizza>

<section>
    <header class="text-center mb-4">
        <h1>Pizza</h1>
    </header>
    @if (Model.Count() == 0)
    {
        <div class="text-center fs-5">
            <p>Administrator nie dodał jeszcze żadnych pozycji!</p>
        </div>
    }
    else
    {
        <div class="row text-center">
            @foreach (var element in Model)
            {
                <div class="col-12 col-md-6 col-xl-4 margin-bottom">
                    <figure class="m-0">
                        <div class="figure-edit">
                            <a class="ingredients-hover" asp-controller="Pizza" asp-action="PizzaDetails" asp-route-id="@element.Id">
                                <img class="img-fluid border-radius img-edit" src="~/pizza_images/@element.Name/@element.ImagePath" alt="Pizza">
                                <div class="ingredients  user-select-none">
                                    <h3 class="h2">Składniki:</h3>
                                    <p class="fs-5">
                                        @for (var i = 0; i < element.AllIngredients.Count; i++)
                                        {
                                            @if (element.AllIngredients[i] == element.AllIngredients.Last())
                                            {
                                                @element.AllIngredients[i].Substring(0, element.AllIngredients[i].IndexOf(","))
                                            }
                                            else
                                            {
                                                @element.AllIngredients[i]
                                            }
                                        }
                                    </p>
                                </div>
                            </a>
                        </div>
                        <figcaption class="mt-3 fs-5">
                            <p class="m-0">@element.Name</p>
                        </figcaption>
                    </figure>
                </div>
            }
        </div>
    }
</section>

